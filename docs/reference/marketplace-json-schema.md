# marketplace.json Schema Reference
> Part of the [Reference](index.md).

Puerto publishes its plugin catalog through `.claude-plugin/marketplace.json`. Claude Code reads this file when users add the marketplace, so keeping it accurate is essential.

---

## Location

```
.claude-plugin/marketplace.json
```

Generated by: `node scripts/generate-catalog.js`

---

## Top-Level Structure

```json
{
  "name": "puerto",
  "owner": {
    "name": "Band of AI"
  },
  "plugins": [
    {
      "name": "frontend-developer",
      "source": "./plugins/frontend-developer",
      "description": "Frontend development specialist...",
      "version": "1.0.0"
    }
  ]
}
```

### Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `name` | string | ✅ | Marketplace identifier. Users reference this in `/plugin marketplace add`. |
| `owner.name` | string | ✅ | Display name for the marketplace provider. |
| `plugins` | array<object> | ✅ | Catalog of plugin entries. One per plugin folder. |

### Plugin Entry

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `name` | string | ✅ | Plugin identifier (usually mirrors `plugin.json` `name`). |
| `source` | string | ✅ | Relative path to the plugin directory inside the repo. |
| `description` | string | ✅ | Summary shown in Claude when browsing the catalog. |
| `version` | string | ▫️ | Semver string (optional but recommended). Mirrors `plugin.json` `version`. |

---

## Generation Workflow

1. Scan `plugins/` for directories.
2. Read `.claude-plugin/plugin.json` in each directory.
3. Extract `name`, `description`, and `version` (if present).
4. Sort plugins alphabetically.
5. Write the manifest to `.claude-plugin/marketplace.json`.

Run manually:

```bash
node scripts/generate-catalog.js
```

CI automatically regenerates the catalog on pushes to `main` that touch `plugins/**`.

---

## Validation Checklist

- `source` path points to an existing plugin directory.
- `description` is concise and descriptive (≤ 200 characters recommended).
- `version` matches the plugin’s manifest (if included).
- No duplicate plugin names.
- JSON formatted with two-space indentation and newline at EOF.

---

## Troubleshooting

| Issue | Fix |
|-------|-----|
| Plugin missing from Claude catalog | Run `generate-catalog.js` and commit the updated manifest. |
| Description outdated | Update the plugin’s `plugin.json` summary; regenerate the catalog. |
| Manifest merge conflicts | Re-run generator after merging upstream changes to rebuild from source of truth. |

---

## Related Docs

- [Catalog Generation](../architecture/catalog-generation.md)
- [Plugin Manifest](../plugin-development/plugin-manifest.md)
- [Validation Rules](validation-rules.md)
